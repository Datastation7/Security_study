# 시스템 보안
- Diretory Traversal 공격
  - 공격자가 제한된 파일에 액세스할 수 있도록 허용하는 HTTP 공격
  - 공격자는 파일 이름을 입력하는 응용 프로그램에 대해 상위 디렉터릴를 의미하는 문자열을 사용하여 비공개 파일에 액세스한다.

- 운영체제를 설치할 때 파티션을 분할하는 이유
  - 시스템 영역과 사용자 영역을 분리해서 사용하기 위한 것이다.
  - 시스템 영역은 운영체제 관련 프로그래이 설치되고, 사용자 영역은 사용자 파일을 보관한다.
  - 파일을 파티션 했다고 파일 시스템 성능이 낮아지지 않는다.
  - 디스크의 공간을 나누고 각 공간 사용이 다른 공간을 간섭하지 않도록 하기 위해서이다.

- nmap -sS
  - "-s"는 스캐닝의 종류를 의미하고,"S"는 TCP의 SYN 패킷을 전송하여 스캐닝하는 SYN SCAN을 하라는 것이다.
  - 방화벽이 존재하더라도 해당 서버에 서비스가 오픈되어 있는지, 필터링이 되어 있는지 등을 파악하기 위해 사용되며, 다른 스캔 기법보다 더 비밀스럽고 타켓 호스테에 log가 남지 않는 방법

- 무작위 대입 공격(Brute-Force Attack) 및 사전 공격(Dictionary Attack) 등 사용자의 패스워드 크래킹 취약점을 점검하기 위한 도구
    - John the Ripper, L0phtCrack, pwdump

  - John the Ripper
    - 무료 비밀번호 크래킹 소프트웨어 도구

  - L0phtCrack
    - 사전, 무차별 대입, 하이브리드 공격 및 레인보우 테이블을 사용하여 암호 강도를 테스트하고 때로는 손실된 Microsoft Windows 암호를 복구하는 데 사용

  - pwdump
    - SAM(보안 계정 관리자) 데이터베이스와 운영 체제의 Active Directory 도메인 사용자 캐시에서 로컬 사용자 계정의 LM 및 NTLM 암호 해시를 출력하는 다양한 Windows 프로그램의 이름

- WinNuke
  - 윈도우 운영체제를 대상으로 원격 서비스 거부 공격 방법으로 청색폭탄(Blue Bomb)이라고도 한다.
  - 운영체제에 부하를 유발하여 정지시킨다.

- 임의적 접근 통제(Discretionary Access Control)
  - 신분 기반으로 접근 통제를 수행하는 방법으로 사용자 ID를 근거로 해서 객체(파일)에 대한 접근 통제를 수행한다.

- 파일 디스크립터(File Descriptor)
  - 리눅스 운영체제에서 파일에 대한 정보를 기술하고 유지하는 기억 장치의 영역으로 물리적 장치들을 파일로 관리하고 리눅스 쉘은 작업에 필요한 파일들에 번호를 부여하여 관리한다.
  - 파일을 관리하기 위해 시스템이 필요로 하는 정보를 보관한다.
  - 일반적으로 보조 기억 장치에 저장되어 있다가 파일을 오픈(Open)할 때 주기억 장치로 옮겨진다.
  - 파일 제정 블록(File Control Block)이라고도 한다.

|파일 디스크립터|설명|
|:----:|:----:|
|0|Standard input(표준 입력)|
|1|Standard Output(표준 출력)|
|2|Standard Error(표준 에러)|

- tripwire
  - 리눅스 파일의 무결성을 검사하는 도구

- umask
  - 디폴트 권한을 관리

- mount
  - 파일 시스템을 연결하기 위해서 사용

- TCP-Wrapper
  - 특정 프로그램에 특정 IP가 접근할 수 있도록 허용하거나 거부하게 한다.

- Snort
  - 네트워크로 전송되는 패킷을 탐지하여 침입 여부를 확인한다.
  - 특정 공격 코드를 Rule에 등록하여 탐지할 수 있다.

- iptables
  - 리눅스 방화벽 프로그램
  
- Wireshark
  - 네트워크의 패킷을 스니핑하는 도구

- 버퍼 오버플로우에 대한 대응 방법
  - Non-Executable 스택 사용
  - 스택 가드(Stack Guard) 또는 스택 쉴드(Stack Shield) 사용
  - ASLR(Address Space Layout Randomization) 사용

- rtl(return to libc) 공격
  - Non-Executable 스택 비트(NX-bit)에 보안 이 적용되었을 때 공격하는 기법
  - NX-bit 설정으로 Shellcode를 삽입해도 스택 복귀주소(RET:Return Address)에 overwrite가 되지 않아 공격이 실패한다.
  - 이러한 부분을 우회하기 위한 방법이 Return to libc이다.
  - 공유 라이브러리 함수의 주소를 참조하여 스택 복귀주소를 overwrite하고 호출하는 공격 방법

- WORM(Write Once Read Many) 스토리지
  - 공격자가 시스템의 로그파일을 삭제하거나 변조한다면 공격자가 어떠한 행위를 하였는지 파악하는데 어려움이 존재한다.
  - 이러한 이슈를 해결하고자 로그의 위변조 방지를 위해 사용한다.
  - 시스템에 공격자가 침입하면, 자신의 공격 행위를 삭제하기 위해서 중요한 로그파일에 대한 삭제를 시도한다.
  - 만약 공격자가 시스템의 모든 로그파일울 삭제나 변조한다면 공격자가 어떤 행위를 했는지 증명하기가 쉽지 않다.
  - 이러한 문제점을 해결하기 위해서 한 번만 기록 가능하고 그 다음은 읽기만 가능한 스토리지이다.
  - WORM 스토리지에 로그파일을 기록하면 공격자는 로그파일을 삭제하거나 변조하는 것이 불가능하다.

- 제로데이 공격의 특징
  - 패치되기 전에 취약점을 이용한 공격 기법
  - 보안 패치가 제공되기 전에 알려지지 않은 취약점을 이용하여 공격한다.

- ICMP 패킷에 응답하지 못하도록 실행하는 명령어
  - sysctl -w kernel.ipv4.icmp_echo_ignore_all=1

- 모든 브로드캐스를 차단
  - sysctl -w kernel.ipv4.icmp_echo_ignore_broadcasts=1

- net user administrator
  - 윈도우 시스템에서 administrator 계정의 암호를 마지막으로 변경한 날짜를 확인하는 명령어

- net user
  - 윈도우 운영체제에서 사용자 정보를 확인할 때 사용하는 명령어

- LINUX(RHEL5), /etc/pam.d/system-auth
  - 패스워드 복잡성 설정하기 위한 OS별 해당 파일
  - 리눅스 PAM 모듈은 사용자의 패스워드 복잡도, 패스워드 오류 횟수 등을 설정하여 관리한다.

- HTTP/1.1 200 14105
  - 서버에서 전송한 데이터 크기를 알 수 있다.
  - HTTP 버전, HTTP 응답 코드(200) 및 전송 바이트 수를 의미
  
- httpOnly 속성
  - 웹 브라우저에서 자바스크립트를 통하여 Document.cookie를 볼 수 없게 하는 것
  - 쿠키(Cookie)의 속성 중 Set-Cookie 응답 헤더에 설정하는 속성
  - 클라이언트(웹 브라우저 등)에서 스크립트(자바스크립트 등)를 통해 해당 쿠키에 접속하는 것을 차단해 주는 속성

- secure 속성
  - SSL에서만 세션 정보에 접근할 수 있게 하는 설정하는 것

|블록관리|설명|
|:-------:|:------|
|단일 간접 블록(Single Indirect Block)|inode block을 가리키며 실제 데이터 블록을 가리키는 포인터들로 구성|
|이중 간접 블록(Double Indirect Block)|인덱스 블록이 2개의 계층으로 구성 , 첫 번째 인덱스 블록은 및 두 번째 인덱스 블록을 가리키는 포인터, 두 번째 인덱스 블록은 실제 데이터 블록을 가리키는 포인터|
|삼중 간접 블록(Triple Indirect Block)|인덱스 블록이 3개의 계층으로 구성, 첫 번째 및 두 번째 인덱스 블록은 다른 인덱스 블록의 포인터, 세 번째 인덱스 블록은 실제 데이터 블록을 가리키는 포인터|

- HKEY_CLASSES_ROOT
  - 악성코드 구동을 위하여 사용되는 윈도우 레지스트리
  - 파일의 각 확장자에 대한 정보와 파일과 프로그램 간 연결에 대한 정보
  
- top
  - 유닉스 시스템에서 실행 중인 프로세스별 CPU 점유율, 메모리 점유율, 시스템 부하율 등 전반적인 모니터링이 가능한 명령어
  - CPU, 메모리, 시스템 부하 정보를 실시간으로 확인할 수 있다.

- SSL Pinning
  - 안드로이드 앱의 SSL 연결 시 CA 등록을 통한 중간자 공격을 방어하기 위해 도입된 기술
  - SSL/TLS로 암호화 통신에 사용되는 인증서를 최종 서버의 인증서로 조정하는 방식 HPKP(HTTP Public Key Pining)이라고도 한다.
  - SSL/TLS 사용 시에 중간의 보안 장비 또는 공격자가 제공한 인증서를 기반으로 암호화 통신을 진행하는 중간자 공격에 대응하기 위한 방법이다.

-  서버 시스템의 접근 통제 관리
   -  윈도우 시스템 이벤트에는 시스템, 어플리케이션, 보안 이벤트가 있으며 감사로그는 제어판 - 관리도구 - 로컬 보안설정 - 감사정책에서 각각 설정할 수 있다.
   -  iptables, tcp wrapper 도구를 사용하면 서버 시스템의 네트워크 접근 통제 기능르 설정할 수 있다.
   -  Unix 서버 시스템에서 불필요한 파일에 설정된 SUID와 SGID 비트를 제거하여 실행 권한이 없는 프로그램의 비인가된 실행을 차단하여야 한다.
   -  윈도우 시스템에서 레지스트리(Registry)는 윈도우 운영체제의 모든 환경 설정 정보를 가지고 있다.
   -  익명 사용자 제한은 HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Lsa 에서 RestrictAnonymous 값을 2로 설정하면 된다.

- `Test : x : 500 :500 : Gen-User : /home/test : /usr/bin/bash`
   - `Test : 사용자 ID(/etc/passwd 파일에서 Test는 사용자 ID)`
   - `x : 패스워드(B의 x 패스워드는 shadow 파일에 저장되어 있는 것을 의미한다.)`
   - `500 : User id`
   - `500 : Group id`
   - `Gen-User : 설명`
   - `/home/test : 사용자 홈디렉토리`
   - `/usr/bin/bash : 지정된 쉘(Shell) (사용자가 사용자는 Shell)`

- 안드로이드 디렉토리 구조

|구분|설명|
|:-----|:-----|
|/data/local/tmp/|안드로이드 adb를 통해 접속 후 쓰기가 가능하다|
|/data/app|안드로이드 apk가 설치될 때 백업 apk가 저장된다.|
|/data/data|사용자 정보, 동영상, 그림, 음악과 같은 리소스 파일이 저장된다.|
|/data/dalvic-cache|달빅 바이트 코드 파일이 저장되어 있다.|
|/data/misc|사용자 정보가 기록되고 블루투스, WiFi 등의 기록이 보관된다.|

- 구현 단계 보안 약점 항목(정보 노출)

|구분|설명|
|:-----|:-----|
|사용자 하드 디스크에 저장되는 쿠키를 통한 정보 노출|개인정보, 인증정보 등이 영속적인 쿠키에 저장될 때 발생하는 보안 약점이다.|
|오류 메시지 정보 노출|예외 발생 시 예외 이름이나 스택 트레이스를 출력하는 경우 프로그램 내부 구조가 파악된다.|
|잘못된 세션에 의한 데이터 정보 노출|서로 다른 세션에서 데이터를 공유하여 발생하는 보안 약점이다.|

- 인증장치
  - 성인의 홍채는 변화가 없고 홍채 인증에서는 인증 장치에서의 패턴 갱신이 불필요하다.
  - 홍채 인식은 비용이 많이 들고 양외에서 태양광으로 인해 인식률이 떨어지며 시선을 고정하지 않으면 올바르게 인식되지 않는다.
  - 홍채를 형성하고 있는 조직은 생후 1~2년간 빗살 무늬 형태로 변화하게 되고 그 이후에는 패턴이 변화지 않는 것으로 보인다.
  - 성인의 홍채뿐만 아니라 어린이들의 홍채 패턴은 변화가 없다.

- 컴퓨터 시스템에 대한 하드닝(Hardening) 활동
  - 하드닝(Hardening)은 시스템 보안을 견고하게 하기 위해서 취약점을 줄여서 보안을 강화하는 활동을 의미
  - 사용하지 않은 PDF를 삭제하거나 감사 기능, 로깅 기능, 보안 업데이트, 패치 적용 등의 활동을 의미

- 메모리 배치 기법
  - First Fit, Best Fit, Worst Fit, Next Fit이 있다.

- Worst Fit(최악 적합)
  - 입력된 프로그램을 수용할 수 있는 공간 중 가장 큰 공간을 할당한다.
  - 가장 잘 맞지 않은 공간에 데이터를 배치하는 기법으로 큰 사이즈 공간에 데이터를 배치해서 사용하고 남은 공간(단편화)을 활용할 수 있게 한다.

- 악성프로그램
  - 바이러스
    - 한 시스템에서 다른 시스템으로 전파하기 위해서 사람이나 도구의 도움의 필요한 악성 프로그램
  - 웜
    - 한 시스템에서 다른 시스템으로 전파하는데 있어서 외부의 도움이 필요하지 않은 악성 프로그램
  - 논리 폭탄
    - 합법적 프로그램 안에 내장된 코드로서 특정한 조건이 만족되었을 때 작동하는 악성코드

- 임시 파일 생성 -> 프로그램 동작 및 임시 파일 처리(3단계)
  - SUID 프로그램이 일반 권한에서 관리자 권한으로 상승하여 처리하는 전사적인 과정에서 심볼릭 링크를 이용한 레이스 컨디션 공격이 실행되는 단계

- Snort 옵션

|구분|설명|
|:-----|:-----|
|Content| 특정 문자열을 포함하고 있는 패킷을 탐지한다.|
|Depth|Content 옵션 명령이 검사할 바이트 수를 지정하는 옵션이다. Offset과 같이 사용해서 탐지 성능을 향상한다.|
|Offset|패킷 문자열 검색의 시작 위치를 지정한다.|

- 매크로 바이러스
  - 플랫폼과 무관하게 실행된다.
  - 주로 이메일을 통해 감염된다.
  - 문서 파일의 기능을 악용한다.
  - Office 내에 기생되는 것으로 EXE 형태가 아니다.

- 파일 시스템 터널링
  - Window에서 파일이 삭제된 직후 일정 시간(기본 15초) 안에 동일한 이름의 파일이 생성되는 경우 방금 삭제된 파일의 테이블 레코드를 재사용한다.(파일이 생성되면 생성 시간을 변경하지 않고 유지하는 기능)
  - 터널링 기능은 FAT, NTFS가 모두 지원한다.










  

